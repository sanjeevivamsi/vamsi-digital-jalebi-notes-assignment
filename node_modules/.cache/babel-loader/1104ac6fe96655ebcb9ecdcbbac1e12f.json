{"ast":null,"code":"import _toConsumableArray from\"/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import app from\"firebase/app\";import\"firebase/firestore\";import\"firebase/auth\";import\"firebase/storage\";var config={apiKey:\"AIzaSyD0r_4OlEFv8MKXzZtOcp0_FSalyWxvk8c\",authDomain:\"vamsi-digital-jalebi-notes.firebaseapp.com\",projectId:\"vamsi-digital-jalebi-notes\",storageBucket:\"vamsi-digital-jalebi-notes.appspot.com\",messagingSenderId:\"1031588269195\",appId:\"1:1031588269195:web:8e44df325bd28c1b3c988e\",measurementId:\"G-Z72WY769T3\"};app.initializeApp(config);var firebaseDb=app.firestore();export default app;export function addUser(_x,_x2){return _addUser.apply(this,arguments);}function _addUser(){_addUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email,password){var userData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return app.auth().createUserWithEmailAndPassword(email,password);case 3:userData=_context.sent;_context.next=6;return firebaseDb.collection(\"users\").doc(userData.user.uid).set({email:email,password:password,createdAt:app.firestore.FieldValue.serverTimestamp()});case 6:_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);alert(_context.t0.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _addUser.apply(this,arguments);}export function logoutUser(){return _logoutUser.apply(this,arguments);}function _logoutUser(){_logoutUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return app.auth().signOut();case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);alert(_context2.t0.message);case 8:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));return _logoutUser.apply(this,arguments);}export function loginUser(_x3,_x4){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(email,password){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return app.auth().signInWithEmailAndPassword(email,password);case 3:_context3.next=8;break;case 5:_context3.prev=5;_context3.t0=_context3[\"catch\"](0);alert(_context3.t0.message);case 8:case\"end\":return _context3.stop();}}},_callee3,null,[[0,5]]);}));return _loginUser.apply(this,arguments);}export function addNote(_x5){return _addNote.apply(this,arguments);}function _addNote(){_addNote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(noteData){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return firebaseDb.collection(\"notes\").add(_objectSpread(_objectSpread({},noteData),{},{createdAt:app.firestore.FieldValue.serverTimestamp()}));case 2:res=_context4.sent;return _context4.abrupt(\"return\",res.id);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _addNote.apply(this,arguments);}export function getUserNotes(_x6){return _getUserNotes.apply(this,arguments);}function _getUserNotes(){_getUserNotes=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){var data,userdata;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:data=[];_context5.next=3;return firebaseDb.collection(\"notes\").where(\"userId\",\"==\",id).orderBy(\"createdAt\",\"desc\").get();case 3:userdata=_context5.sent;userdata.forEach(function(doc){data=[].concat(_toConsumableArray(data),[{id:doc.id,text:doc.data().text,userId:doc.data().userId}]);});return _context5.abrupt(\"return\",data);case 6:case\"end\":return _context5.stop();}}},_callee5);}));return _getUserNotes.apply(this,arguments);}export function getNote(_x7){return _getNote.apply(this,arguments);}function _getNote(){_getNote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var data,doc;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return firebaseDb.collection(\"notes\").doc(id).get();case 2:doc=_context6.sent;data={id:doc.id,text:doc.data().text,userId:doc.data().userId};return _context6.abrupt(\"return\",data);case 5:case\"end\":return _context6.stop();}}},_callee6);}));return _getNote.apply(this,arguments);}export function deleteNote(_x8){return _deleteNote.apply(this,arguments);}function _deleteNote(){_deleteNote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return firebaseDb.collection(\"notes\").doc(id).delete();case 2:case\"end\":return _context7.stop();}}},_callee7);}));return _deleteNote.apply(this,arguments);}","map":{"version":3,"sources":["/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/src/services/firebase.js"],"names":["app","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","firebaseDb","firestore","addUser","email","password","auth","createUserWithEmailAndPassword","userData","collection","doc","user","uid","set","createdAt","FieldValue","serverTimestamp","alert","message","logoutUser","signOut","loginUser","signInWithEmailAndPassword","addNote","noteData","add","res","id","getUserNotes","data","where","orderBy","get","userdata","forEach","text","userId","getNote","deleteNote","delete"],"mappings":"osBAAA,MAAOA,CAAAA,GAAP,KAAgB,cAAhB,CACA,MAAO,oBAAP,CACA,MAAO,eAAP,CACA,MAAO,kBAAP,CACA,GAAMC,CAAAA,MAAM,CAAG,CACbC,MAAM,CAAE,yCADK,CAEbC,UAAU,CAAE,4CAFC,CAGbC,SAAS,CAAE,4BAHE,CAIbC,aAAa,CAAE,wCAJF,CAKbC,iBAAiB,CAAE,eALN,CAMbC,KAAK,CAAE,4CANM,CAObC,aAAa,CAAE,cAPF,CAAf,CASAR,GAAG,CAACS,aAAJ,CAAkBR,MAAlB,EAEA,GAAMS,CAAAA,UAAU,CAAGV,GAAG,CAACW,SAAJ,EAAnB,CAEA,cAAeX,CAAAA,GAAf,CAEA,eAAsBY,CAAAA,OAAtB,gD,qFAAO,iBAAuBC,KAAvB,CAA8BC,QAA9B,qKAEkBd,CAAAA,GAAG,CACrBe,IADkB,GAElBC,8BAFkB,CAEaH,KAFb,CAEoBC,QAFpB,CAFlB,QAECG,QAFD,qCAKGP,CAAAA,UAAU,CAACQ,UAAX,CAAsB,OAAtB,EAA+BC,GAA/B,CAAmCF,QAAQ,CAACG,IAAT,CAAcC,GAAjD,EAAsDC,GAAtD,CAA0D,CAC9DT,KAAK,CAALA,KAD8D,CAE9DC,QAAQ,CAARA,QAF8D,CAG9DS,SAAS,CAAEvB,GAAG,CAACW,SAAJ,CAAca,UAAd,CAAyBC,eAAzB,EAHmD,CAA1D,CALH,uFAWHC,KAAK,CAAC,YAAMC,OAAP,CAAL,CAXG,oE,0CAcP,eAAsBC,CAAAA,UAAtB,6C,2FAAO,gLAEG5B,CAAAA,GAAG,CAACe,IAAJ,GAAWc,OAAX,EAFH,0FAIHH,KAAK,CAAC,aAAIC,OAAL,CAAL,CAJG,qE,6CAOP,eAAsBG,CAAAA,SAAtB,mD,yFAAO,kBAAyBjB,KAAzB,CAAgCC,QAAhC,8JAEGd,CAAAA,GAAG,CAACe,IAAJ,GAAWgB,0BAAX,CAAsClB,KAAtC,CAA6CC,QAA7C,CAFH,0FAIHY,KAAK,CAAC,aAAMC,OAAP,CAAL,CAJG,qE,4CAQP,eAAsBK,CAAAA,OAAtB,6C,qFAAO,kBAAuBC,QAAvB,qJACavB,CAAAA,UAAU,CAACQ,UAAX,CAAsB,OAAtB,EAA+BgB,GAA/B,gCACbD,QADa,MAEhBV,SAAS,CAAEvB,GAAG,CAACW,SAAJ,CAAca,UAAd,CAAyBC,eAAzB,EAFK,GADb,QACCU,GADD,iDAKEA,GAAG,CAACC,EALN,0D,0CAOP,eAAsBC,CAAAA,YAAtB,kD,+FAAO,kBAA4BD,EAA5B,wIACDE,IADC,CACM,EADN,wBAEgB5B,CAAAA,UAAU,CAC5BQ,UADkB,CACP,OADO,EAElBqB,KAFkB,CAEZ,QAFY,CAEF,IAFE,CAEIH,EAFJ,EAGlBI,OAHkB,CAGV,WAHU,CAGG,MAHH,EAIlBC,GAJkB,EAFhB,QAEDC,QAFC,gBAOLA,QAAQ,CAACC,OAAT,CAAiB,SAACxB,GAAD,CAAS,CACxBmB,IAAI,8BACCA,IADD,GAEF,CACEF,EAAE,CAAEjB,GAAG,CAACiB,EADV,CAEEQ,IAAI,CAAEzB,GAAG,CAACmB,IAAJ,GAAWM,IAFnB,CAGEC,MAAM,CAAE1B,GAAG,CAACmB,IAAJ,GAAWO,MAHrB,CAFE,EAAJ,CAQD,CATD,EAPK,iCAiBEP,IAjBF,0D,+CAmBP,eAAsBQ,CAAAA,OAAtB,6C,qFAAO,kBAAuBV,EAAvB,0JAEW1B,CAAAA,UAAU,CAACQ,UAAX,CAAsB,OAAtB,EAA+BC,GAA/B,CAAmCiB,EAAnC,EAAuCK,GAAvC,EAFX,QAEDtB,GAFC,gBAGLmB,IAAI,CAAG,CACLF,EAAE,CAAEjB,GAAG,CAACiB,EADH,CAELQ,IAAI,CAAEzB,GAAG,CAACmB,IAAJ,GAAWM,IAFZ,CAGLC,MAAM,CAAE1B,GAAG,CAACmB,IAAJ,GAAWO,MAHd,CAAP,CAHK,iCAQEP,IARF,0D,0CAWP,eAAsBS,CAAAA,UAAtB,gD,2FAAO,kBAA0BX,EAA1B,6IACC1B,CAAAA,UAAU,CAACQ,UAAX,CAAsB,OAAtB,EAA+BC,GAA/B,CAAmCiB,EAAnC,EAAuCY,MAAvC,EADD,yD","sourcesContent":["import app from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\nconst config = {\n  apiKey: \"AIzaSyD0r_4OlEFv8MKXzZtOcp0_FSalyWxvk8c\",\n  authDomain: \"vamsi-digital-jalebi-notes.firebaseapp.com\",\n  projectId: \"vamsi-digital-jalebi-notes\",\n  storageBucket: \"vamsi-digital-jalebi-notes.appspot.com\",\n  messagingSenderId: \"1031588269195\",\n  appId: \"1:1031588269195:web:8e44df325bd28c1b3c988e\",\n  measurementId: \"G-Z72WY769T3\",\n};\napp.initializeApp(config);\n\nconst firebaseDb = app.firestore();\n\nexport default app;\n\nexport async function addUser(email, password) {\n  try {\n    let userData = await app\n      .auth()\n      .createUserWithEmailAndPassword(email, password);\n    await firebaseDb.collection(\"users\").doc(userData.user.uid).set({\n      email,\n      password,\n      createdAt: app.firestore.FieldValue.serverTimestamp(),\n    });\n  } catch (error) {\n    alert(error.message);\n  }\n}\nexport async function logoutUser() {\n  try {\n    await app.auth().signOut();\n  } catch (err) {\n    alert(err.message);\n  }\n}\nexport async function loginUser(email, password) {\n  try {\n    await app.auth().signInWithEmailAndPassword(email, password);\n  } catch (error) {\n    alert(error.message);\n  }\n}\n\nexport async function addNote(noteData) {\n  const res = await firebaseDb.collection(\"notes\").add({\n    ...noteData,\n    createdAt: app.firestore.FieldValue.serverTimestamp(),\n  });\n  return res.id;\n}\nexport async function getUserNotes(id) {\n  let data = [];\n  let userdata = await firebaseDb\n    .collection(\"notes\")\n    .where(\"userId\", \"==\", id)\n    .orderBy(\"createdAt\", \"desc\")\n    .get();\n  userdata.forEach((doc) => {\n    data = [\n      ...data,\n      {\n        id: doc.id,\n        text: doc.data().text,\n        userId: doc.data().userId,\n      },\n    ];\n  });\n  return data;\n}\nexport async function getNote(id) {\n  let data;\n  let doc = await firebaseDb.collection(\"notes\").doc(id).get();\n  data = {\n    id: doc.id,\n    text: doc.data().text,\n    userId: doc.data().userId,\n  };\n  return data;\n}\n\nexport async function deleteNote(id) {\n  await firebaseDb.collection(\"notes\").doc(id).delete();\n}\n"]},"metadata":{},"sourceType":"module"}