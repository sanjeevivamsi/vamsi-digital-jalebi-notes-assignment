{"ast":null,"code":"import _regeneratorRuntime from\"/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{ThemeProvider}from\"@material-ui/core\";import Theme from\"./Themes/MuiTheme\";import Signup from\"./Components/Signup\";import Login from\"./Components/Login\";import NoteList from\"./Components/NoteList\";import React,{useEffect}from\"react\";import{Switch}from\"react-router-dom\";import ProtectedRoute from\"./ProtectedRoutes/ProtectedRoute\";import useLocalStorage from\"./customHooks/useLocalStorage\";import Navbar from\"./Components/Navbar\";import*as firebaseCalls from\"./services/firebase\";import app from\"./services/firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useLocalStorage=useLocalStorage(\"loggedin\",false),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),loginAuthenticated=_useLocalStorage2[0],setLoginAuthenticated=_useLocalStorage2[1];var _useLocalStorage3=useLocalStorage(\"user\",{}),_useLocalStorage4=_slicedToArray(_useLocalStorage3,2),loggedinUser=_useLocalStorage4[0],setLoggedinUser=_useLocalStorage4[1];useEffect(function(){function initiateApp(){app.auth().onAuthStateChanged(function(user){if(user){var data={id:user.uid,email:user.email};setLoggedinUser(data);setLoginAuthenticated(true);}else{setLoggedinUser({});setLoginAuthenticated(false);}});}initiateApp();},[]);var handleSignupSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email,password){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return firebaseCalls.addUser(email,password);case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSignupSubmit(_x,_x2){return _ref.apply(this,arguments);};}();var handleUserLogoutclick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return firebaseCalls.logoutUser();case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function handleUserLogoutclick(){return _ref2.apply(this,arguments);};}();var handleLoginSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(email,password){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return firebaseCalls.loginUser(email,password);case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function handleLoginSubmit(_x3,_x4){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(ThemeProvider,{theme:Theme,children:[/*#__PURE__*/_jsx(Navbar,{onLogout:handleUserLogoutclick,loggedinUser:loggedinUser,authFinder:loginAuthenticated}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/notes\",component:NoteList,appProps:{authFinder:loginAuthenticated,to:\"/\",loggedinUser:loggedinUser}}),/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/\",component:Login,functionCall:handleLoginSubmit,appProps:{authFinder:!loginAuthenticated,to:\"/notes\"}}),/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/signup\",component:Signup,appProps:{authFinder:!loginAuthenticated,to:\"/notes\"},functionCall:handleSignupSubmit})]})]});}export default App;","map":{"version":3,"sources":["/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/src/App.js"],"names":["ThemeProvider","Theme","Signup","Login","NoteList","React","useEffect","Switch","ProtectedRoute","useLocalStorage","Navbar","firebaseCalls","app","App","loginAuthenticated","setLoginAuthenticated","loggedinUser","setLoggedinUser","initiateApp","auth","onAuthStateChanged","user","data","id","uid","email","handleSignupSubmit","password","addUser","handleUserLogoutclick","logoutUser","handleLoginSubmit","loginUser","authFinder","to"],"mappings":"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","sourcesContent":["import { ThemeProvider } from \"@material-ui/core\";\nimport Theme from \"./Themes/MuiTheme\";\nimport Signup from \"./Components/Signup\";\nimport Login from \"./Components/Login\";\nimport NoteList from \"./Components/NoteList\";\nimport React, { useEffect } from \"react\";\nimport { Switch } from \"react-router-dom\";\nimport ProtectedRoute from \"./ProtectedRoutes/ProtectedRoute\";\nimport useLocalStorage from \"./customHooks/useLocalStorage\";\nimport Navbar from \"./Components/Navbar\";\nimport * as firebaseCalls from \"./services/firebase\";\nimport app from \"./services/firebase\";\nfunction App() {\n  const [loginAuthenticated, setLoginAuthenticated] = useLocalStorage(\n    \"loggedin\",\n    false\n  );\n  const [loggedinUser, setLoggedinUser] = useLocalStorage(\"user\", {});\n  useEffect(() => {\n    function initiateApp() {\n      app.auth().onAuthStateChanged((user) => {\n        if (user) {\n          let data = {\n            id: user.uid,\n            email: user.email,\n          };\n          setLoggedinUser(data);\n          setLoginAuthenticated(true);\n        } else {\n          setLoggedinUser({});\n          setLoginAuthenticated(false);\n        }\n      });\n    }\n    initiateApp();\n  }, []);\n\n  const handleSignupSubmit = async (email, password) => {\n    await firebaseCalls.addUser(email, password);\n  };\n  const handleUserLogoutclick = async () => {\n    await firebaseCalls.logoutUser();\n  };\n\n  const handleLoginSubmit = async (email, password) => {\n    await firebaseCalls.loginUser(email, password);\n  };\n  return (\n    <ThemeProvider theme={Theme}>\n      <Navbar\n        onLogout={handleUserLogoutclick}\n        loggedinUser={loggedinUser}\n        authFinder={loginAuthenticated}\n      />\n      <Switch>\n        <ProtectedRoute\n          exact\n          path=\"/notes\"\n          component={NoteList}\n          appProps={{\n            authFinder: loginAuthenticated,\n            to: \"/\",\n            loggedinUser: loggedinUser,\n          }}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/\"\n          component={Login}\n          functionCall={handleLoginSubmit}\n          appProps={{ authFinder: !loginAuthenticated, to: \"/notes\" }}\n        />\n        <ProtectedRoute\n          exact\n          path=\"/signup\"\n          component={Signup}\n          appProps={{ authFinder: !loginAuthenticated, to: \"/notes\" }}\n          functionCall={handleSignupSubmit}\n        />\n      </Switch>\n    </ThemeProvider>\n  );\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}