{"ast":null,"code":"import _objectSpread from\"/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Divider,Grid,IconButton,List,ListItem,ListItemSecondaryAction,ListItemText,Typography}from\"@material-ui/core\";import DeleteForeverIcon from\"@material-ui/icons/DeleteForever\";import CreateNoteForm from\"./CreateNote\";import useListStyles from\"../Themes/NotelistStyles\";import uuid from\"react-uuid\";import*as firebaseCalls from\"../services/firebase\";import{LinearProgress}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NoteList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userNotes=_useState2[0],setUserNotes=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var mounted=true;var initializeNoteList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var noteData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return firebaseCalls.getUserNotes(props.loggedinUser.id);case 2:noteData=_context.sent;if(mounted){_context.next=5;break;}return _context.abrupt(\"return\");case 5:setUserNotes(noteData);setLoading(false);case 7:case\"end\":return _context.stop();}}},_callee);}));return function initializeNoteList(){return _ref.apply(this,arguments);};}();initializeNoteList();return function(){mounted=false;};},[]);var handleDeleteNoteClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return firebaseCalls.deleteNote(id);case 2:setUserNotes(function(prevState){var newState=prevState.filter(function(note){return note.id!==id;});return newState;});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDeleteNoteClick(_x){return _ref2.apply(this,arguments);};}();var classes=useListStyles();if(loading){return/*#__PURE__*/_jsx(LinearProgress,{});}else{if(userNotes.length!==0){return/*#__PURE__*/_jsxs(Grid,{xs:12,className:classes.paper,position:\"static\",children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Typography,{className:classes.heading,variant:\"h4\",component:\"h1\",children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(CreateNoteForm,_objectSpread(_objectSpread({},props),{},{userNotes:userNotes,setUserNotes:setUserNotes}))}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(List,{className:classes.list,children:userNotes.map(function(userNote,index){var noteNumber=index+1;return/*#__PURE__*/_jsxs(ListItem,{dense:true,className:classes.listItem,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Index: \"+noteNumber}),/*#__PURE__*/_jsx(ListItemText,{classes:{primary:classes.listText},primary:\"Note: \"+userNote.text}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{className:classes.iconButton,children:/*#__PURE__*/_jsx(IconButton,{color:\"primary\",\"aria-label\":\"upload picture\",component:\"span\",variant:\"contained\",onClick:function onClick(){return handleDeleteNoteClick(userNote.id);},children:/*#__PURE__*/_jsx(DeleteForeverIcon,{})})}),/*#__PURE__*/_jsx(Divider,{className:classes.divider})]},uuid());})})})]});}else{return/*#__PURE__*/_jsx(Grid,{xs:12,className:classes.paper,position:\"static\",children:/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(CreateNoteForm,_objectSpread(_objectSpread({},props),{},{setUserNotes:setUserNotes})),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"No notes to display\"})})]})});}}}export default NoteList;","map":{"version":3,"sources":["/Users/takasivenkatasandeep/Desktop/vamsi-sanjreevi-notes/src/Components/NoteList.js"],"names":["React","useEffect","useState","Divider","Grid","IconButton","List","ListItem","ListItemSecondaryAction","ListItemText","Typography","DeleteForeverIcon","CreateNoteForm","useListStyles","uuid","firebaseCalls","LinearProgress","NoteList","props","userNotes","setUserNotes","loading","setLoading","mounted","initializeNoteList","getUserNotes","loggedinUser","id","noteData","handleDeleteNoteClick","deleteNote","prevState","newState","filter","note","classes","length","paper","heading","list","map","userNote","index","noteNumber","listItem","primary","listText","text","iconButton","divider"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Divider,\n  Grid,\n  IconButton,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  Typography,\n} from \"@material-ui/core\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\n\nimport CreateNoteForm from \"./CreateNote\";\n\nimport useListStyles from \"../Themes/NotelistStyles\";\nimport uuid from \"react-uuid\";\nimport * as firebaseCalls from \"../services/firebase\";\nimport { LinearProgress } from \"@material-ui/core\";\nfunction NoteList(props) {\n  const [userNotes, setUserNotes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    let mounted = true;\n    const initializeNoteList = async () => {\n      const noteData = await firebaseCalls.getUserNotes(props.loggedinUser.id);\n      if (!mounted) {\n        return;\n      }\n\n      setUserNotes(noteData);\n      setLoading(false);\n    };\n    initializeNoteList();\n    return () => {\n      mounted = false;\n    };\n  }, []);\n\n  const handleDeleteNoteClick = async (id) => {\n    await firebaseCalls.deleteNote(id);\n    setUserNotes((prevState) => {\n      const newState = prevState.filter((note) => note.id !== id);\n      return newState;\n    });\n  };\n\n  const classes = useListStyles();\n  if (loading) {\n    return <LinearProgress />;\n  } else {\n    if (userNotes.length !== 0) {\n      return (\n        <Grid xs={12} className={classes.paper} position=\"static\">\n          <Grid item xs={12}>\n            <Typography className={classes.heading} variant=\"h4\" component=\"h1\">\n              Your Notes\n            </Typography>\n            <hr />\n          </Grid>\n          <Grid item xs={12}>\n            <CreateNoteForm\n              {...props}\n              userNotes={userNotes}\n              setUserNotes={setUserNotes}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <List className={classes.list}>\n              {userNotes.map((userNote, index) => {\n                const noteNumber = index + 1;\n                return (\n                  <ListItem dense className={classes.listItem} key={uuid()}>\n                    <ListItemText primary={\"Index: \" + noteNumber} />\n                    <ListItemText\n                      classes={{ primary: classes.listText }}\n                      primary={\"Note: \" + userNote.text}\n                    />\n                    <ListItemSecondaryAction className={classes.iconButton}>\n                      <IconButton\n                        color=\"primary\"\n                        aria-label=\"upload picture\"\n                        component=\"span\"\n                        variant=\"contained\"\n                        onClick={() => handleDeleteNoteClick(userNote.id)}\n                      >\n                        <DeleteForeverIcon />\n                      </IconButton>\n                    </ListItemSecondaryAction>\n                    <Divider className={classes.divider} />\n                  </ListItem>\n                );\n              })}\n            </List>\n          </Grid>\n        </Grid>\n      );\n    } else {\n      return (\n        <Grid xs={12} className={classes.paper} position=\"static\">\n          <Grid>\n            <CreateNoteForm {...props} setUserNotes={setUserNotes} />\n            <center>\n              <Typography variant=\"h5\">No notes to display</Typography>\n            </center>\n          </Grid>\n        </Grid>\n      );\n    }\n  }\n}\n\nexport default NoteList;\n"]},"metadata":{},"sourceType":"module"}